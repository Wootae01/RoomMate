drop table if exists notice CASCADE;
create table notice
(
    id bigint generated by default as identity,
    title varchar(200),
    content text,
    notice_date varchar(10),
    primary key (id)
);

drop table if exists weather CASCADE;
create table WEATHER(
    fcst_date varchar(8),
    fcst_time varchar(4),
    tmp int,
    sky int,
    pty int,
    primary key (fcst_date, fcst_time)
);

drop table if exists Weather_EXTREMES CASCADE;
create table Weather_EXTREMES(
    fcst_date varchar(8),
    tmn float,
    tmx float,
    primary key (fcst_date)
);

drop table if exists Lifestyle CASCADE;
create table Lifestyle(
    lifestyle_id bigint generated by default as identity,
    bed_time int,
    wakeup_time int,
    sleep_habit int,
    cleaning int,
    aircon int,
    heater int,
    noise int,
    smoking int,
    scent int,
    eating int,
    relationship int,
    home int,
    drinking int,
    age int,
    dorm_hour int,
    primary key (lifestyle_id)
);
drop table if exists Profile CASCADE;
create table Profile(
    profile_id bigint generated by default as identity ,
    lifestyle_id bigint,
    nickname varchar(10),
    introduce text,
    img varchar(255),
    primary key (profile_id),
    foreign key (lifestyle_id) references Lifestyle(lifestyle_id)
);

drop table if exists Member CASCADE;
create table Member(
    member_id varchar(16),
    profile_id bigint,
    lifestyle_id bigint,
    password varchar(32),
    email varchar(32),
    dorm varchar(10),
    primary key (member_id),
    foreign key (profile_id) references Profile (profile_id),
    foreign key (lifestyle_id) references LifeStyle (lifestyle_id)
);

drop table if exists Recommendation CASCADE;
create table Recommendation(
    result_id bigint generated by default as identity,
    member_id bigint,
    matched_id bigint,
    score double,
    primary key (result_id),
    foreign key (member_id) references Member(member_id),
    foreign key (matched_id) references Member(member_id)
);